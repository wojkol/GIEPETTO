[
    {
        "role": "user",
        "content": "tell me how to install dhcp server on linux cli"
    },
    {
        "role": "assistant",
        "content": "Installing a DHCP server on a Linux machine via the Command Line Interface (CLI) can be a vital task when setting up network configurations. Below are step-by-step instructions to install and configure a DHCP server, using `ISC-DHCP-Server` as an example. This example is based on Ubuntu, but the procedure is similar for other Linux distributions; you might just need to use a different package manager like `yum` or `zypper`.\n\n### Step 1: Update Your System\n\nFirst, make sure your package lists and the system itself are up to date:\n\n```bash\nsudo apt update\nsudo apt upgrade\n```\n\n### Step 2: Install the DHCP Server\n\nYou can install the ISC DHCP Server with the following command:\n\n```bash\nsudo apt install isc-dhcp-server\n```\n\n### Step 3: Configure the DHCP Server\n\nAfter installation, you need to configure the DHCP server by editing the main configuration file `/etc/dhcp/dhcpd.conf`.\n\n1. **Open the configuration file:**\n\n    ```bash\n    sudo nano /etc/dhcp/dhcpd.conf\n    ```\n\n2. **Modify or add the following configurations:**\n   \n    - Specify the domain name and the default lease time:\n\n        ```conf\n        default-lease-time 600;\n        max-lease-time 7200;\n        option domain-name \"example.org\";\n        option domain-name-servers ns1.example.org, ns2.example.org;\n        ```\n\n    - Define the subnet and range of IP addresses that the DHCP server should assign to client devices:\n\n        ```conf\n        subnet 192.168.1.0 netmask 255.255.255.0 {\n           range 192.168.1.10 192.168.1.100;\n           option routers 192.168.1.1;\n           option subnet-mask 255.255.255.0;\n           option broadcast-address 192.168.1.255;\n           default-lease-time 600;\n           max-lease-time 7200;\n        }\n        ```\n\n    Ensure you customize the IP addresses according to your network requirements.\n\n3. **Save and exit the editor** using `CTRL + X`, `Y` to confirm changes, and then `Enter` to return to the terminal.\n\n### Step 4: Define the Network Interfaces\n\nSpecify which network interface the DHCP server should use to serve DHCP requests by editing `/etc/default/isc-dhcp-server`:\n\n```bash\nsudo nano /etc/default/isc-dhcp-server\n```\n\nSet the `INTERFACESv4` variable to your server\u2019s network interface name (e.g., `eth0`, `enp3s0`):\n\n```bash\nINTERFACESv4=\"eth0\"\n```\n\n### Step 5: Start the DHCP Server\n\n- **Enable and start the DHCP server:**\n\n    ```bash\n    sudo systemctl enable isc-dhcp-server\n    sudo systemctl start isc-dhcp-server\n    ```\n\n- **Check the status of the DHCP server:**\n\n    ```bash\n    sudo systemctl status isc-dhcp-server\n    ```\n\n### Step 6: Manage the DHCP Service\n\n- To **stop** the DHCP server:\n\n    ```bash\n    sudo systemctl stop isc-dhcp-server\n    ```\n\n- To **restart** the DHCP server (useful when you change configurations):\n\n    ```bash\n    sudo systemctl restart isc-dhcp-server\n    ```\n\n### Step 7: Monitoring and Troubleshooting\n\nYou can watch the DHCP server logs to troubleshoot or confirm that it is functioning correctly:\n\n```bash\ntail -f /var/log/syslog | grep dhcpd\n```\n\nThat\u2019s it! You\u2019ve successfully installed and configured a DHCP server on your Linux machine using the CLI. Adjust the configurations as necessary to fit your network setup."
    }
]